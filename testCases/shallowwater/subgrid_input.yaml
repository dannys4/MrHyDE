%YAML 1.1
---
ANONYMOUS:
  Subgrid:
    debug level: 0
    subgrid model: DtN2 
    Mesh:
      mesh type: panzer
      element type: quad
      refinements: 0
      dimension: 2
      blocknames: eblock
    Physics: 
      modules: shallow water hybridized
      Roe-like stabilization: true
      Initial conditions:
        H: '2.' 
        Hux: 'cos(-x)'
        Huy: 'sin(y)'
      Far-field conditions:
        H:
          all boundaries: '2. + exp( sin(3.*x)*sin(3.*y)-sin(3.*t) )'
        Hux:
          all boundaries: 'cos(4.*t - x)'
        Huy:
          all boundaries: 'sin(4.*t - y)'
    Functions:
      H source: '-3.0*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y))*cos(3.0*t) + sin(4.0*t - x) + cos(4.0*t + y)'
      Hux source: '(-0.75*(sin(3.0*x)*sin(4.0*t + y)*cos(3.0*y) + sin(3.0*y)*cos(3.0*x)*cos(4.0*t - x))*(exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 2.0)*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y))*cos(4.0*t - x) + (0.5*exp(sin(3.0*x)*sin(3.0*y)) + 1.0*exp(sin(3.0*t)))^3*(6.0*exp(-2*sin(3.0*t) + 2*sin(3.0*x)*sin(3.0*y))*sin(3.0*y)*cos(3.0*x) + 12.0*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y))*sin(3.0*y)*cos(3.0*x) - 8.0*sin(4.0*t - x))*exp(-3*sin(3.0*t)) + (0.5*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 1)^2*(2*sin(4.0*t - x) + cos(4.0*t + y))*cos(4.0*t - x))/((0.5*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 1)^2*(exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 2.0))' 
      Huy source: '(-0.75*(sin(3.0*x)*sin(4.0*t + y)*cos(3.0*y) + sin(3.0*y)*cos(3.0*x)*cos(4.0*t - x))*(exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 2.0)*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y))*sin(4.0*t + y) + (0.5*exp(sin(3.0*x)*sin(3.0*y)) + 1.0*exp(sin(3.0*t)))^3*(6.0*exp(-2*sin(3.0*t) + 2*sin(3.0*x)*sin(3.0*y))*sin(3.0*x)*cos(3.0*y) + 12.0*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y))*sin(3.0*x)*cos(3.0*y) + 8.0*cos(4.0*t + y))*exp(-3*sin(3.0*t)) + (0.5*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 1)^2*(sin(4.0*t - x) + 2*cos(4.0*t + y))*sin(4.0*t + y))/((0.5*exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 1)^2*(exp(-sin(3.0*t) + sin(3.0*x)*sin(3.0*y)) + 2.0))'

    Solver:
      #solver: steady-state
      solver: transient
      workset size: 100
      nonlinear TOL: 1.0e-06
      linear TOL: 1.0e-6
      max nonlinear iters: 10
      max linear iters: 100
      final time: 1.
      delta t: 1e-2
      use direct solver: false
      use domain decomposition: false
      use strong DBCs: true
      Preconditioner Settings:
        verbosity: none
        number of equations: 1
        multigrid algorithm: unsmoothed
        'sa: use filtered matrix': true
        'sa: damping factor': 0.0
        'coarse: max size': 2000
        'transpose: use implicit': false
        'aggregation: type': uncoupled
        'aggregation: drop scheme': classical
        'aggregation: drop tol': 0.0
        'smoother: pre or post': both
        'smoother: type': SCHWARZ
        'smoother: params':
          'schwarz: overlap level': 1
          'schwarz: combine mode': Zero
          'schwarz: use reordering': false
          'schwarz: reordering list':
            order_method: rcm
          subdomain solver name: RILUK
          subdomain solver parameters:
            'fact: iluk level-of-fill': 1
            'fact: ilut level-of-fill': 1.75
            'fact: absolute threshold': 0.0
            'fact: relative threshold': 1.0
            'fact: relax value': 0.0
          #'chebyshev: degree': 2
          #'chebyshev: ratio eigenvalue': 7.0
          #'chebyshev: min eigenvalue': 1.0
          #'chebyshev: zero starting solution': true
          # 'relaxation: type': Gauss-Seidel #MT Gauss-Seidel
        'repartition: enable': false
        'reuse: type': none
    Discretization:
      order:
        H: 1
        Hux: 1
        Huy: 1
      quadrature: 2
    Postprocess: 
      store aux and flux: false
...
